(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"014b":function(t,e,n){"use strict";var s=n("e53d"),r=n("07e3"),o=n("8e60"),u=n("63b6"),i=n("9138"),a=n("ebfd").KEY,c=n("294c"),l=n("dbdb"),f=n("45f2"),d=n("62a0"),m=n("5168"),p=n("ccb9"),h=n("6718"),v=n("47ee"),g=n("9003"),b=n("e4ae"),y=n("f772"),w=n("36c3"),C=n("1bc3"),_=n("aebd"),x=n("a159"),S=n("0395"),k=n("bf0b"),A=n("d9f6"),O=n("c3a1"),$=k.f,j=A.f,P=S.f,E=s.Symbol,M=s.JSON,V=M&&M.stringify,R="prototype",D=m("_hidden"),L=m("toPrimitive"),I={}.propertyIsEnumerable,T=l("symbol-registry"),N=l("symbols"),F=l("op-symbols"),z=Object[R],U="function"==typeof E,G=s.QObject,B=!G||!G[R]||!G[R].findChild,J=o&&c(function(){return 7!=x(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(t,e,n){var s=$(z,e);s&&delete z[e],j(t,e,n),s&&t!==z&&j(z,e,s)}:j,H=function(t){var e=N[t]=x(E[R]);return e._k=t,e},Y=U&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},W=function(t,e,n){return t===z&&W(F,e,n),b(t),e=C(e,!0),b(n),r(N,e)?(n.enumerable?(r(t,D)&&t[D][e]&&(t[D][e]=!1),n=x(n,{enumerable:_(0,!1)})):(r(t,D)||j(t,D,_(1,{})),t[D][e]=!0),J(t,e,n)):j(t,e,n)},q=function(t,e){b(t);var n,s=v(e=w(e)),r=0,o=s.length;while(o>r)W(t,n=s[r++],e[n]);return t},K=function(t,e){return void 0===e?x(t):q(x(t),e)},Q=function(t){var e=I.call(this,t=C(t,!0));return!(this===z&&r(N,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(N,t)||r(this,D)&&this[D][t])||e)},X=function(t,e){if(t=w(t),e=C(e,!0),t!==z||!r(N,e)||r(F,e)){var n=$(t,e);return!n||!r(N,e)||r(t,D)&&t[D][e]||(n.enumerable=!0),n}},Z=function(t){var e,n=P(w(t)),s=[],o=0;while(n.length>o)r(N,e=n[o++])||e==D||e==a||s.push(e);return s},tt=function(t){var e,n=t===z,s=P(n?F:w(t)),o=[],u=0;while(s.length>u)!r(N,e=s[u++])||n&&!r(z,e)||o.push(N[e]);return o};U||(E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(F,n),r(this,D)&&r(this[D],t)&&(this[D][t]=!1),J(this,t,_(1,n))};return o&&B&&J(z,t,{configurable:!0,set:e}),H(t)},i(E[R],"toString",function(){return this._k}),k.f=X,A.f=W,n("6abf").f=S.f=Z,n("355d").f=Q,n("9aa9").f=tt,o&&!n("b8e3")&&i(z,"propertyIsEnumerable",Q,!0),p.f=function(t){return H(m(t))}),u(u.G+u.W+u.F*!U,{Symbol:E});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)m(et[nt++]);for(var st=O(m.store),rt=0;st.length>rt;)h(st[rt++]);u(u.S+u.F*!U,"Symbol",{for:function(t){return r(T,t+="")?T[t]:T[t]=E(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in T)if(T[e]===t)return e},useSetter:function(){B=!0},useSimple:function(){B=!1}}),u(u.S+u.F*!U,"Object",{create:K,defineProperty:W,defineProperties:q,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),M&&u(u.S+u.F*(!U||c(function(){var t=E();return"[null]"!=V([t])||"{}"!=V({a:t})||"{}"!=V(Object(t))})),"JSON",{stringify:function(t){var e,n,s=[t],r=1;while(arguments.length>r)s.push(arguments[r++]);if(n=e=s[1],(y(e)||void 0!==t)&&!Y(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),s[1]=e,V.apply(M,s)}}),E[R][L]||n("35e8")(E[R],L,E[R].valueOf),f(E,"Symbol"),f(Math,"Math",!0),f(s.JSON,"JSON",!0)},"02f4":function(t,e,n){var s=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var o,u,i=String(r(e)),a=s(n),c=i.length;return a<0||a>=c?t?"":void 0:(o=i.charCodeAt(a),o<55296||o>56319||a+1===c||(u=i.charCodeAt(a+1))<56320||u>57343?t?i.charAt(a):o:t?i.slice(a,a+2):u-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var s=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?s(t,e).length:1)}},"0395":function(t,e,n){var s=n("36c3"),r=n("6abf").f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(t){try{return r(t)}catch(e){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?i(t):r(s(t))}},"0413":function(t,e,n){"use strict";var s=n("f63b"),r=n.n(s);r.a},"0bfb":function(t,e,n){"use strict";var s=n("cb7c");t.exports=function(){var t=s(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"11e9":function(t,e,n){var s=n("52a7"),r=n("4630"),o=n("6821"),u=n("6a99"),i=n("69a8"),a=n("c69a"),c=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?c:function(t,e){if(t=o(t),e=u(e,!0),a)try{return c(t,e)}catch(n){}if(i(t,e))return r(!s.f.call(t,e),t[e])}},"13c8":function(t,e,n){var s=n("c3a1"),r=n("36c3"),o=n("355d").f;t.exports=function(t){return function(e){var n,u=r(e),i=s(u),a=i.length,c=0,l=[];while(a>c)o.call(u,n=i[c++])&&l.push(t?[n,u[n]]:u[n]);return l}}},"1af6":function(t,e,n){var s=n("63b6");s(s.S,"Array",{isArray:n("9003")})},"1b10":function(t,e,n){},"20fd":function(t,e,n){"use strict";var s=n("d9f6"),r=n("aebd");t.exports=function(t,e,n){e in t?s.f(t,e,r(0,n)):t[e]=n}},"214f":function(t,e,n){"use strict";n("b0c5");var s=n("2aba"),r=n("32e9"),o=n("79e5"),u=n("be13"),i=n("2b4c"),a=n("520a"),c=i("species"),l=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var d=i(t),m=!o(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),p=m?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!e}):void 0;if(!m||!p||"replace"===t&&!l||"split"===t&&!f){var h=/./[d],v=n(u,d,""[t],function(t,e,n,s,r){return e.exec===a?m&&!r?{done:!0,value:h.call(e,n,s)}:{done:!0,value:t.call(n,e,s)}:{done:!1}}),g=v[0],b=v[1];s(String.prototype,t,g),r(RegExp.prototype,d,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"234c":function(t,e,n){"use strict";var s=n("a775"),r=n.n(s);r.a},"268f":function(t,e,n){t.exports=n("fde4")},"293a":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container"},[n("div",{staticClass:"chat"},[n("div",{staticClass:"md-layout-item"}),n("div",{staticClass:"md-layout-item"}),n("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed"}},[n("md-app-toolbar",{staticClass:"md-primary"},[n("span",{staticClass:"md-title page-container__room"},[t._v(t._s(t.room))]),n("md-button",{staticClass:"md-icon-button page-container-logout",attrs:{disabled:t.openPrivateChat.chat},nativeOn:{click:function(e){t.toggleConference()}}},[n("md-icon",[t._v(t._s(t.conference.open?"close":"group"))])],1),n("md-button",{staticClass:"md-icon-button page-container-logout",nativeOn:{click:function(e){t.logout()}}},[n("md-icon",[t._v("power_settings_new")])],1)],1),n("md-app-drawer",{attrs:{"md-permanent":"full"}},[n("UserList",{attrs:{users:t.users,openPrivateChat:t.openPrivateChat.chat||t.conference.open},on:{"open-chat":function(e){t.openChat(e)}}})],1),n("md-app-content",{attrs:{id:"chat-content"}},[n("ChatArea",{attrs:{messages:t.messages,maxMessageLength:120,chatContainer:"md-app-scroller"}})],1)],1),n("MessageArea",{on:{"send-message":function(e){t.sendMessage(e)}}}),n("ChatDialog",{attrs:{"v-if":t.openPrivateChat.chat,showDialog:t.openPrivateChat},on:{"close-chat":function(e){t.closePrivateChat()}}})],1),n("div",{staticClass:"conference"},[t.conference.open?n("Conference",{attrs:{users:t.users,conference:t.conference}}):t._e()],1)])},r=[],o=(n("96cf"),n("3b8d")),u=n("5d58"),i=n.n(u),a=n("67bb"),c=n.n(a);function l(t){return l="function"===typeof c.a&&"symbol"===typeof i.a?function(t){return typeof t}:function(t){return t&&"function"===typeof c.a&&t.constructor===c.a&&t!==c.a.prototype?"symbol":typeof t},l(t)}function f(t){return f="function"===typeof c.a&&"symbol"===l(i.a)?function(t){return l(t)}:function(t){return t&&"function"===typeof c.a&&t.constructor===c.a&&t!==c.a.prototype?"symbol":l(t)},f(t)}var d=n("268f"),m=n.n(d),p=n("e265"),h=n.n(p),v=n("a4bb"),g=n.n(v),b=n("85f2"),y=n.n(b);function w(t,e,n){return e in t?y()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},s=g()(n);"function"===typeof h.a&&(s=s.concat(h()(n).filter(function(t){return m()(n,t).enumerable}))),s.forEach(function(e){w(t,e,n[e])})}return t}var _=n("a745"),x=n.n(_);function S(t){if(x()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var k=n("774e"),A=n.n(k),O=n("c8bb"),$=n.n(O);function j(t){if($()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return A()(t)}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function E(t){return S(t)||j(t)||P()}var M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-list",{staticClass:"user-list"},[n("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[n("div",{staticClass:"user-list__header"},[n("span",{staticClass:"user-list__title"},[t._v("Users connected")]),n("span",{staticClass:"user-list__status"},[n("md-icon",{class:t.myStatus,nativeOn:{click:function(e){t.changeStatus()}}},[t._v("fiber_manual_record")])],1)])]),n("div",t._l(t.users,function(e){return n("div",{key:e.username},[n("md-list-item",[n("md-icon",{class:e.status},[t._v("fiber_manual_record")]),n("span",{staticClass:"md-list-item-text user-list__username"},[t._v(t._s(e.username))]),t.$store.state.username!==e.username?n("md-button",{staticClass:"md-icon-button md-list-action",attrs:{disabled:t.openPrivateChat},on:{click:function(n){t.openChat(e.username)}}},[n("md-icon",{staticClass:"md-primary"},[t._v("chat_bubble")])],1):t._e()],1)],1)}),0)],1)},V=[],R=(n("cadf"),n("551c"),n("097d"),n("01ea")),D={name:"UserList",props:{users:Array,openPrivateChat:Boolean},data:function(){return{status:{available_status:"#05b105",absent_status:"#f7bb04",unavailable_status:"#bb0000"}}},methods:{openChat:function(t){this.$emit("open-chat",t)},changeStatus:function(){var t=this;this.$store.dispatch(R["c"].changeStatus).then(function(){t.$socket.emit(R["d"].changeStatus,t.$store.state)})}},computed:{myStatus:function(){return{available:this.$store.state.status===R["b"].available,absent:this.$store.state.status===R["b"].absent,unavailable:this.$store.state.status===R["b"].unavailable}}}},L=D,I=(n("0413"),n("2877")),T=Object(I["a"])(L,M,V,!1,null,"1f8cb67c",null);T.options.__file="UserList.vue";var N=T.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message"},t._l(t.messages,function(e){return n("div",{key:e.msg,staticClass:"message__container"},[e.join?t._e():n("p",{directives:[{name:"message",rawName:"v-message",value:e.msg,expression:"msg.msg"}],staticClass:"message__text",class:{own:e.isMe,other:!e.isMe}}),e.join?n("p",{staticClass:"message__joined"},[t._v(" \n      "+t._s(e.msg))]):t._e()])}),0)},z=[],U=(n("c5f6"),{name:"ChatArea",props:{messages:Array,maxMessageLength:Number,chatContainer:String},directives:{message:{bind:function(t,e,n){var s,r="object"===f(e.value),o=n.context.maxMessageLength;r?(s=Math.ceil(e.value.message.length/o),t.innerHTML='<span style="font-weight:bold">'.concat(e.value.username,"</span>: \n            ").concat(n.context.getChunkText(e.value.message,o,s))):(s=Math.ceil(e.value.length/o),t.innerHTML=n.context.getChunkText(e.value,o,s))}}},methods:{getChunkText:function(t,e,n){for(var s="",r=0;r<n;r++){var o=t.slice(r*e,e*(r+1));0!==r&&(s+="<br>"),s+="<span> ".concat(o," </span>")}return s}},watch:{messages:function(){var t=document.getElementsByClassName(this.chatContainer)[0];t.scrollTop=t.scrollHeight+100}}}),G=U,B=(n("bbb6"),Object(I["a"])(G,F,z,!1,null,"198e7302",null));B.options.__file="ChatArea.vue";var J=B.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-area"},[n("div",{staticClass:"text-area__input"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.message},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.sendMessage()},input:function(e){e.target.composing||(t.message=e.target.value)}}})]),n("div",[n("md-button",{staticClass:"md-primary",on:{click:function(e){t.sendMessage()}}},[t._v("Send")])],1)])},Y=[],W=(n("a481"),{name:"MessageArea",props:{},data:function(){return{message:""}},methods:{sendMessage:function(){var t=this.message.replace(/\n/g,"");0!==t.replace(/\s/g,"").length&&(this.$emit("send-message",t),this.message="")}}}),q=W,K=(n("d1a4"),Object(I["a"])(q,H,Y,!1,null,"4834b0c5",null));K.options.__file="MessageArea.vue";var Q=K.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-dialog"},[n("md-dialog",{attrs:{"md-active":t.showDialog.chat,"md-fullscreen":!1,"md-click-outside-to-close":!1},on:{"update:mdActive":function(e){t.$set(t.showDialog,"chat",e)}}},[t.videoCall?n("div",{staticClass:"chat-dialog__left"},[n("VideoArea",{attrs:{room:t.showDialog.room,to:t.showDialog.user,videoAnswer:t.videoAnswer},on:{closeVideo:function(e){t.video(!1)}}})],1):t._e(),n("div",{staticClass:"chat-dialog__right"},[n("div",{staticClass:"chat-dialog__options"},[n("md-button",{staticClass:"md-icon-button chat-dialog__video",attrs:{disabled:0===t.showDialog.msg.length},on:{click:function(e){t.video(!t.videoCall)}}},[n("md-icon",[t._v(t._s(t.videoCall?"videocam_off":"video_call"))])],1),n("md-button",{staticClass:"md-icon-button chat-dialog__exit",on:{click:function(e){t.closeChat()}}},[n("md-icon",[t._v("close")])],1)],1),n("md-dialog-content",[n("p",{staticClass:"chat-dialog__title"},[t._v("Private chat with "+t._s(t.showDialog.user))]),n("ChatArea",{attrs:{messages:t.showDialog.msg,maxMessageLength:30,chatContainer:"md-dialog-content"}})],1),n("md-dialog-actions",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.privateMessage,expression:"privateMessage"}],staticClass:"chat-dialog__text",attrs:{disabled:t.showDialog.closed},domProps:{value:t.privateMessage},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.sendPrivateMessage(t.privateMessage)},input:function(e){e.target.composing||(t.privateMessage=e.target.value)}}})])],1)])],1)},Z=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video"},[n("div",{staticClass:"video__partner"},[n("Video",{attrs:{videoId:"remoteVideo",displayControls:!0,videoStream:t.remoteStream,pauseVideo:t.pauseVideo,pauseAudio:t.pauseAudio,muted:!1}})],1),n("video",{staticClass:"video__myself",attrs:{id:"localVideo",autoplay:"true",muted:"muted"},domProps:{muted:!0}})])},et=[],nt=(n("ac6a"),function(t){var e=(window.performance.now()/1e3).toFixed(3);console.log("".concat(e,": ").concat(t))}),st={iceServers:[{url:"stun:stun.services.mozilla.org"},{url:"stun:stun01.sipphone.com"},{url:"stun:stun.ekiga.net"},{url:"stun:stun.fwdnet.net"},{url:"stun:stun.ideasip.com"},{url:"stun:stun.iptel.org"},{url:"stun:stun.rixtelecom.se"},{url:"stun:stun.schlund.de"},{url:"stun:stun.l.google.com:19302"},{url:"stun:stun1.l.google.com:19302"},{url:"stun:stun2.l.google.com:19302"},{url:"stun:stun3.l.google.com:19302"},{url:"stun:stun4.l.google.com:19302"},{url:"stun:stunserver.org"},{url:"stun:stun.softjoys.com"},{url:"stun:stun.voiparound.com"},{url:"stun:stun.voipbuster.com"},{url:"stun:stun.voipstunt.com"},{url:"stun:stun.voxgratia.org"},{url:"stun:stun.xten.com"},{url:"stun:stun.wtfismyip.com"},{url:"stun:stun.1und1.de"},{url:"stun:stun.gmx.net"},{url:"stun:stun.l.google.com:19305"},{url:"stun:stun1.l.google.com:19305"},{url:"stun:stun2.l.google.com:19305"},{url:"stun:stun3.l.google.com:19305"},{url:"stun:stun4.l.google.com:19305"},{url:"stun:stun.jappix.com:3478"},{url:"stun:stun.services.mozilla.com"},{url:"stun:stun.counterpath.com"},{url:"stun:stun.stunprotocol.prg"},{url:"stun:s1.taraba.net"},{url:"stun:s2.taraba.net"},{url:"stun:s1.voipstation.jp"},{url:"stun:s2.voipstation.jp"},{url:"stun:stun.sipnet.net:3478"},{url:"stun:stun.sipnet.ru:3478"},{url:"stun:stun.stunprotocol.org:3478"},{url:"stun:stun.1und1.de:3478"},{url:"stun:stun.gmx.net:3478"},{url:"stun:stun.l.google.com:19302"},{url:"stun:stun1.l.google.com:19302"},{url:"stun:stun2.l.google.com:19302"},{url:"stun:stun3.l.google.com:19302"},{url:"stun:stun4.l.google.com:19302"},{url:"stun:23.21.150.121:3478"},{url:"stun:iphone-stun.strato-iphone.de:3478"},{url:"stun:numb.viagenie.ca:3478"},{url:"stun:stun.12connect.com:3478"},{url:"stun:stun.12voip.com:3478"},{url:"stun:stun.1und1.de:3478"},{url:"stun:stun.2talk.co.nz:3478"},{url:"stun:stun.2talk.com:3478"},{url:"stun:stun.3clogic.com:3478"},{url:"stun:stun.3cx.com:3478"},{url:"stun:stun.a-mm.tv:3478"},{url:"stun:stun.aa.net.uk:3478"},{url:"stun:stun.acrobits.cz:3478"},{url:"stun:stun.actionvoip.com:3478"},{url:"stun:stun.advfn.com:3478"},{url:"stun:stun.aeta-audio.com:3478"},{url:"stun:stun.aeta.com:3478"},{url:"stun:stun.altar.com.pl:3478"},{url:"stun:stun.annatel.net:3478"},{url:"stun:stun.antisip.com:3478"},{url:"stun:stun.arbuz.ru:3478"},{url:"stun:stun.avigora.fr:3478"},{url:"stun:stun.awa-shima.com:3478"},{url:"stun:stun.b2b2c.ca:3478"},{url:"stun:stun.bahnhof.net:3478"},{url:"stun:stun.barracuda.com:3478"},{url:"stun:stun.bluesip.net:3478"},{url:"stun:stun.bmwgs.cz:3478"},{url:"stun:stun.botonakis.com:3478"},{url:"stun:stun.budgetsip.com:3478"},{url:"stun:stun.cablenet-as.net:3478"},{url:"stun:stun.callromania.ro:3478"},{url:"stun:stun.callwithus.com:3478"},{url:"stun:stun.chathelp.ru:3478"},{url:"stun:stun.cheapvoip.com:3478"},{url:"stun:stun.ciktel.com:3478"},{url:"stun:stun.cloopen.com:3478"},{url:"stun:stun.comfi.com:3478"},{url:"stun:stun.commpeak.com:3478"},{url:"stun:stun.comtube.com:3478"},{url:"stun:stun.comtube.ru:3478"},{url:"stun:stun.cope.es:3478"},{url:"stun:stun.counterpath.com:3478"},{url:"stun:stun.counterpath.net:3478"},{url:"stun:stun.datamanagement.it:3478"},{url:"stun:stun.dcalling.de:3478"},{url:"stun:stun.demos.ru:3478"},{url:"stun:stun.develz.org:3478"},{url:"stun:stun.dingaling.ca:3478"},{url:"stun:stun.doublerobotics.com:3478"},{url:"stun:stun.dus.net:3478"},{url:"stun:stun.easycall.pl:3478"},{url:"stun:stun.easyvoip.com:3478"},{url:"stun:stun.ekiga.net:3478"},{url:"stun:stun.epygi.com:3478"},{url:"stun:stun.etoilediese.fr:3478"},{url:"stun:stun.faktortel.com.au:3478"},{url:"stun:stun.freecall.com:3478"},{url:"stun:stun.freeswitch.org:3478"},{url:"stun:stun.freevoipdeal.com:3478"},{url:"stun:stun.gmx.de:3478"},{url:"stun:stun.gmx.net:3478"},{url:"stun:stun.gradwell.com:3478"},{url:"stun:stun.halonet.pl:3478"},{url:"stun:stun.hellonanu.com:3478"},{url:"stun:stun.hoiio.com:3478"},{url:"stun:stun.hosteurope.de:3478"},{url:"stun:stun.ideasip.com:3478"},{url:"stun:stun.infra.net:3478"},{url:"stun:stun.internetcalls.com:3478"},{url:"stun:stun.intervoip.com:3478"},{url:"stun:stun.ipcomms.net:3478"},{url:"stun:stun.ipfire.org:3478"},{url:"stun:stun.ippi.fr:3478"},{url:"stun:stun.ipshka.com:3478"},{url:"stun:stun.irian.at:3478"},{url:"stun:stun.it1.hr:3478"},{url:"stun:stun.ivao.aero:3478"},{url:"stun:stun.jumblo.com:3478"},{url:"stun:stun.justvoip.com:3478"},{url:"stun:stun.kanet.ru:3478"},{url:"stun:stun.kiwilink.co.nz:3478"},{url:"stun:stun.l.google.com:19302"},{url:"stun:stun.linea7.net:3478"},{url:"stun:stun.linphone.org:3478"},{url:"stun:stun.liveo.fr:3478"},{url:"stun:stun.lowratevoip.com:3478"},{url:"stun:stun.lugosoft.com:3478"},{url:"stun:stun.lundimatin.fr:3478"},{url:"stun:stun.magnet.ie:3478"},{url:"stun:stun.mgn.ru:3478"},{url:"stun:stun.mit.de:3478"},{url:"stun:stun.mitake.com.tw:3478"},{url:"stun:stun.miwifi.com:3478"},{url:"stun:stun.modulus.gr:3478"},{url:"stun:stun.myvoiptraffic.com:3478"},{url:"stun:stun.mywatson.it:3478"},{url:"stun:stun.nas.net:3478"},{url:"stun:stun.neotel.co.za:3478"},{url:"stun:stun.netappel.com:3478"},{url:"stun:stun.netgsm.com.tr:3478"},{url:"stun:stun.nfon.net:3478"},{url:"stun:stun.noblogs.org:3478"},{url:"stun:stun.noc.ams-ix.net:3478"},{url:"stun:stun.nonoh.net:3478"},{url:"stun:stun.nottingham.ac.uk:3478"},{url:"stun:stun.nova.is:3478"},{url:"stun:stun.on.net.mk:3478"},{url:"stun:stun.ooma.com:3478"},{url:"stun:stun.ooonet.ru:3478"},{url:"stun:stun.oriontelekom.rs:3478"},{url:"stun:stun.outland-net.de:3478"},{url:"stun:stun.ozekiphone.com:3478"},{url:"stun:stun.personal-voip.de:3478"},{url:"stun:stun.phone.com:3478"},{url:"stun:stun.pjsip.org:3478"},{url:"stun:stun.poivy.com:3478"},{url:"stun:stun.powerpbx.org:3478"},{url:"stun:stun.powervoip.com:3478"},{url:"stun:stun.ppdi.com:3478"},{url:"stun:stun.qq.com:3478"},{url:"stun:stun.rackco.com:3478"},{url:"stun:stun.rapidnet.de:3478"},{url:"stun:stun.rb-net.com:3478"},{url:"stun:stun.rixtelecom.se:3478"},{url:"stun:stun.rockenstein.de:3478"},{url:"stun:stun.rolmail.net:3478"},{url:"stun:stun.rynga.com:3478"},{url:"stun:stun.schlund.de:3478"},{url:"stun:stun.services.mozilla.com:3478"},{url:"stun:stun.sigmavoip.com:3478"},{url:"stun:stun.sip.us:3478"},{url:"stun:stun.sipdiscount.com:3478"},{url:"stun:stun.sipgate.net:10000"},{url:"stun:stun.sipgate.net:3478"},{url:"stun:stun.siplogin.de:3478"},{url:"stun:stun.sipnet.net:3478"},{url:"stun:stun.sipnet.ru:3478"},{url:"stun:stun.siportal.it:3478"},{url:"stun:stun.sippeer.dk:3478"},{url:"stun:stun.siptraffic.com:3478"},{url:"stun:stun.skylink.ru:3478"},{url:"stun:stun.sma.de:3478"},{url:"stun:stun.smartvoip.com:3478"},{url:"stun:stun.smsdiscount.com:3478"},{url:"stun:stun.snafu.de:3478"},{url:"stun:stun.softjoys.com:3478"},{url:"stun:stun.solcon.nl:3478"},{url:"stun:stun.solnet.ch:3478"},{url:"stun:stun.sonetel.com:3478"},{url:"stun:stun.sonetel.net:3478"},{url:"stun:stun.sovtest.ru:3478"},{url:"stun:stun.speedy.com.ar:3478"},{url:"stun:stun.spokn.com:3478"},{url:"stun:stun.srce.hr:3478"},{url:"stun:stun.ssl7.net:3478"},{url:"stun:stun.stunprotocol.org:3478"},{url:"stun:stun.symform.com:3478"},{url:"stun:stun.symplicity.com:3478"},{url:"stun:stun.t-online.de:3478"},{url:"stun:stun.tagan.ru:3478"},{url:"stun:stun.teachercreated.com:3478"},{url:"stun:stun.tel.lu:3478"},{url:"stun:stun.telbo.com:3478"},{url:"stun:stun.telefacil.com:3478"},{url:"stun:stun.tng.de:3478"},{url:"stun:stun.twt.it:3478"},{url:"stun:stun.u-blox.com:3478"},{url:"stun:stun.ucsb.edu:3478"},{url:"stun:stun.ucw.cz:3478"},{url:"stun:stun.uls.co.za:3478"},{url:"stun:stun.unseen.is:3478"},{url:"stun:stun.usfamily.net:3478"},{url:"stun:stun.veoh.com:3478"},{url:"stun:stun.vidyo.com:3478"},{url:"stun:stun.vipgroup.net:3478"},{url:"stun:stun.viva.gr:3478"},{url:"stun:stun.vivox.com:3478"},{url:"stun:stun.vline.com:3478"},{url:"stun:stun.vo.lu:3478"},{url:"stun:stun.vodafone.ro:3478"},{url:"stun:stun.voicetrading.com:3478"},{url:"stun:stun.voip.aebc.com:3478"},{url:"stun:stun.voip.blackberry.com:3478"},{url:"stun:stun.voip.eutelia.it:3478"},{url:"stun:stun.voiparound.com:3478"},{url:"stun:stun.voipblast.com:3478"},{url:"stun:stun.voipbuster.com:3478"},{url:"stun:stun.voipbusterpro.com:3478"},{url:"stun:stun.voipcheap.co.uk:3478"},{url:"stun:stun.voipcheap.com:3478"},{url:"stun:stun.voipfibre.com:3478"},{url:"stun:stun.voipgain.com:3478"},{url:"stun:stun.voipgate.com:3478"},{url:"stun:stun.voipinfocenter.com:3478"},{url:"stun:stun.voipplanet.nl:3478"},{url:"stun:stun.voippro.com:3478"},{url:"stun:stun.voipraider.com:3478"},{url:"stun:stun.voipstunt.com:3478"},{url:"stun:stun.voipwise.com:3478"},{url:"stun:stun.voipzoom.com:3478"},{url:"stun:stun.vopium.com:3478"},{url:"stun:stun.voxox.com:3478"},{url:"stun:stun.voys.nl:3478"},{url:"stun:stun.voztele.com:3478"},{url:"stun:stun.vyke.com:3478"},{url:"stun:stun.webcalldirect.com:3478"},{url:"stun:stun.whoi.edu:3478"},{url:"stun:stun.wifirst.net:3478"},{url:"stun:stun.wwdl.net:3478"},{url:"stun:stun.xs4all.nl:3478"},{url:"stun:stun.xtratelecom.es:3478"},{url:"stun:stun.yesss.at:3478"},{url:"stun:stun.zadarma.com:3478"},{url:"stun:stun.zadv.com:3478"},{url:"stun:stun.zoiper.com:3478"},{url:"stun:stun1.faktortel.com.au:3478"},{url:"stun:stun1.l.google.com:19302"},{url:"stun:stun1.voiceeclipse.net:3478"},{url:"stun:stun2.l.google.com:19302"},{url:"stun:stun3.l.google.com:19302"},{url:"stun:stun4.l.google.com:19302"},{url:"stun:stunserver.org:3478"},{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{url:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{url:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}],iceTransportPolicy:"all"},rt={data:function(){return{constraints:{audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!1},video:{width:400,height:250}},configuration:st,offerOptions:{offerToReceiveAudio:1,offerToReceiveVideo:1},myVideo:void 0,localStream:void 0,username:""}},created:function(){this.username=this.$store.state.username},beforeDestroy:function(){this.localStream.getTracks().forEach(function(t){return t.stop()})},methods:{getUserMedia:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(nt("Requesting ".concat(this.username," video stream")),!("mediaDevices"in navigator)){t.next=14;break}return t.prev=2,t.next=5,navigator.mediaDevices.getUserMedia(this.constraints);case 5:e=t.sent,this.myVideo.srcObject=e,this.myVideo.volume=0,this.localStream=e,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),nt("getUserMedia error: ".concat(t.t0));case 14:case"end":return t.stop()}},t,this,[[2,11]])}));function e(){return t.apply(this,arguments)}return e}(),getAudioVideo:function(){var t=this.localStream.getVideoTracks(),e=this.localStream.getAudioTracks();t.length>0&&nt("Using video device: ".concat(t[0].label)),e.length>0&&nt("Using audio device: ".concat(e[0].label))},setRemoteDescription:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,nt("".concat(this.username," setRemoteDescription: start")),t.next=4,n.setRemoteDescription(e);case 4:nt("".concat(this.username," setRemoteDescription: finished")),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),nt("Error setting the RemoteDescription in ".concat(this.username,". Error: ").concat(t.t0));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(e,n){return t.apply(this,arguments)}return e}(),createOffer:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,n,s){var r,o,u=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=u.length>3&&void 0!==u[3]&&u[3],nt("".concat(this.username," wants to start a call with ").concat(n)),t.prev=2,t.next=5,e.createOffer(this.offerOptions);case 5:return o=t.sent,nt("".concat(this.username," setLocalDescription: start")),t.next=9,e.setLocalDescription(o);case 9:nt("".concat(this.username," setLocalDescription: finished")),this.sendSignalingMessage(e.localDescription,!0,n,s,r),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),nt("Error creating the offer from ".concat(this.username,". Error: ").concat(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,13]])}));function e(e,n,s){return t.apply(this,arguments)}return e}(),createAnswer:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,n,s,r){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return nt("".concat(this.username," create an answer: start")),t.prev=1,t.next=4,e.createAnswer();case 4:return o=t.sent,nt("".concat(this.username," setLocalDescription: start")),t.next=8,e.setLocalDescription(o);case 8:nt("".concat(this.username," setLocalDescription: finished")),this.sendSignalingMessage(e.localDescription,!1,n,s,r),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),nt("Error creating the answer from ".concat(this.username,". Error: ").concat(t.t0));case 15:case"end":return t.stop()}},t,this,[[1,12]])}));function e(e,n,s,r){return t.apply(this,arguments)}return e}(),handleAnswer:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,n,s,r){var o,u=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=u.length>4&&void 0!==u[4]&&u[4],nt("".concat(this.username," gets an offer from ").concat(s)),t.next=4,this.setRemoteDescription(e,n);case 4:this.createAnswer(n,s,r,o);case 5:case"end":return t.stop()}},t,this)}));function e(e,n,s,r){return t.apply(this,arguments)}return e}(),sendSignalingMessage:function(t,e,n,s,r){var o=e?R["a"].offer:R["a"].answer;nt("".concat(this.username," sends the ").concat(o," through the signal channel to ").concat(n," in room ").concat(s)),this.$socket.emit(r?R["d"].PCSignalingConference:R["d"].privateMessagePCSignaling,{desc:t,to:n,from:this.username,room:s})},addLocalStream:function(t){t.addStream(this.localStream)},addCandidate:function(t,e){try{nt("".concat(this.username," added a candidate")),t.addIceCandidate(e)}catch(n){nt("Error adding a candidate in ".concat(this.username,". Error: ").concat(n))}},onIceCandidates:function(t,e,n){var s=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.onicecandidate=function(t){var o=t.candidate;o&&setTimeout(function(){s.$socket.emit(r?R["d"].PCSignalingConference:R["d"].privateMessagePCSignaling,{candidate:o,to:e,from:s.username,room:n})},500)}},onAddStream:function(t,e){t.pc.onaddstream=function(n){t.peerVideo=t.peerVideo||document.getElementById(e),!t.peerVideo.srcObject&&n.stream&&(t.peerStream=n.stream,t.peerVideo.srcObject=t.peerStream)}},pauseVideo:function(){this.localStream.getVideoTracks().forEach(function(t){return t.enabled=!t.enabled})},pauseAudio:function(){this.localStream.getAudioTracks().forEach(function(t){return t.enabled=!t.enabled})}}},ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video"},[n("div",{staticClass:"video__spinner"},[t.videoStream?t._e():n("md-progress-spinner",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1),t.displayControls?n("AudioVideoControls",{attrs:{pauseVideo:t.pauseVideo,pauseAudio:t.pauseAudio}}):t._e(),t.muted?n("video",{attrs:{id:t.videoId,autoplay:"true",muted:"muted"},domProps:{muted:!0}}):t._e(),t.muted?t._e():n("video",{attrs:{id:t.videoId,autoplay:"true"}})],1)},ut=[],it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"controls"},[n("span",{staticClass:"material-icons",class:{disabled:!t.videoOn},on:{click:function(e){t.swapVideo()}}},[t._v(t._s(t.videoOn?"videocam":"videocam_off"))]),n("span",{staticClass:"material-icons",class:{disabled:!t.audioOn},on:{click:function(e){t.swapAudio()}}},[t._v(t._s(t.audioOn?"mic":"mic_off"))])])},at=[],ct={name:"AudioVideoControls",props:{pauseVideo:Function,pauseAudio:Function},data:function(){return{videoOn:!0,audioOn:!0}},methods:{swapVideo:function(){this.videoOn=!this.videoOn,this.pauseVideo()},swapAudio:function(){this.audioOn=!this.audioOn,this.pauseAudio()}}},lt=ct,ft=(n("85d1"),Object(I["a"])(lt,it,at,!1,null,"6692f84a",null));ft.options.__file="AudioVideoControls.vue";var dt=ft.exports,mt={name:"Video",components:{AudioVideoControls:dt},props:{videoId:String,displayControls:Boolean,videoStream:MediaStream,pauseVideo:Function,pauseAudio:Function,muted:Boolean}},pt=mt,ht=(n("cbba"),Object(I["a"])(pt,ot,ut,!1,null,"0f7875a8",null));ht.options.__file="Video.vue";var vt=ht.exports,gt={name:"VideoArea",props:{room:String,to:String,videoAnswer:Object},mixins:[rt],components:{Video:vt},data:function(){return{constraints:{video:{width:450,height:348}},pc:void 0,remoteStream:void 0,remoteVideo:{}}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getUserMedia();case 2:return t.next=4,this.getAudioVideo();case 4:this.createPeerConnection(),this.addLocalStream(this.pc),this.onIceCandidates(this.pc,this.to,this.room),this.onAddStream(),this.videoAnswer.video?this.handleAnswer(this.videoAnswer.remoteDesc,this.pc,this.videoAnswer.from,this.room):this.createOffer(this.pc,this.to,this.room);case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){this.myVideo=document.getElementById("localVideo"),this.remoteVideo=document.getElementById("remoteVideo")},beforeDestroy:function(){this.pc.close(),this.pc=null,this.$socket.emit(R["d"].privateMessagePCSignaling,{to:this.to,from:this.$store.state.username,room:this.room})},methods:{createPeerConnection:function(){this.pc=new RTCPeerConnection(this.configuration)},onAddStream:function(){var t=this;this.pc.onaddstream=function(e){!t.remoteVideo.srcObject&&e.stream&&(t.remoteStream=e.stream,t.remoteVideo.srcObject=t.remoteStream)}}},watch:{videoAnswer:function(t,e){var n=t.remoteDesc,s=t.candidate;n&&n!==e.remoteDesc&&this.setRemoteDescription(n,this.pc),s&&s!==e.candidate&&this.addCandidate(this.pc,s)}}},bt=gt,yt=(n("234c"),Object(I["a"])(bt,tt,et,!1,null,"c531b68a",null));yt.options.__file="VideoArea.vue";var wt=yt.exports,Ct={name:"ChatDialog",components:{ChatArea:J,VideoArea:wt},props:{showDialog:Object},sockets:{privateMessagePCSignaling:function(t){var e=t.desc,n=t.from,s=t.candidate;n!==this.$store.state.username&&(e?e.type===R["a"].offer?this.openChat(e,n):e.type===R["a"].answer?this.videoAnswer=C({},this.videoAnswer,{remoteDesc:e}):console.log("Unsupported SDP type"):s?this.videoAnswer=C({},this.videoAnswer,{candidate:s}):this.videoCall=!1)}},data:function(){return{privateMessage:"",videoCall:!1,videoAnswer:{video:void 0,remoteDesc:void 0,candidate:void 0,close:!1}}},methods:{closeChat:function(){this.videoCall=!1,this.$socket.emit(R["d"].leavePrivateRoom,{room:this.$store.state.room,to:this.showDialog.room,from:this.$store.state.username}),this.$emit("close-chat")},openChat:function(t,e){this.videoAnswer=C({},this.videoAnser,{video:!0,remoteDesc:t,from:e}),this.videoCall=!0},sendPrivateMessage:function(t){"object"!==f(t)&&0===this.privateMessage.replace(/\s/g,"").length||(this.$socket.emit(R["d"].privateMessage,{privateMessage:t,to:this.showDialog.user,from:this.$store.state.username,room:this.showDialog.room}),this.privateMessage="")},video:function(t){this.videoCall=t,t?this.videoAnswer=C({},this.videoAnswer,{video:!t}):this.sendPrivateMessage({msg:"".concat(this.$store.state.username," has closed the video")})}},watch:{showDialog:function(t,e){var n=t.chat;n&&n!==e.chat&&(this.showDialog.room!==this.$store.state.username&&this.$socket.emit(R["d"].joinPrivateRoom,C({},this.$store.state,{to:this.showDialog.user,from:this.$store.state.username})),this.showDialog.room===this.$store.state.username&&this.$socket.emit(R["d"].joinPrivateRoom,C({},this.$store.state,{to:this.$store.state.username,from:this.$store.state.username,joinConfirmation:!0})))}}},_t=Ct,xt=(n("baa4"),Object(I["a"])(_t,X,Z,!1,null,"6fa640da",null));xt.options.__file="ChatDialog.vue";var St=xt.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"conference-container"},[n("div",{staticClass:"conference-container__header"},[n("h3",[t._v("Private conference (up to 3)")]),n("md-menu",[t.conference.admin?n("md-button",{staticClass:"md-icon-button page-container-logout",attrs:{"md-menu-trigger":"",disabled:2===t.peersLength||1===t.users.length}},[n("md-icon",[t._v("group_add")])],1):t._e(),n("md-menu-content",t._l(t.users,function(e){return n("div",{key:e.username},[e.username===t.$store.state.username||t.peers[e.username]?t._e():n("md-menu-item",{on:{click:function(n){t.invitate(e.username)}}},[n("md-icon",[t._v("person_add")]),n("span",[t._v(t._s(e.username))])],1)],1)}),0)],1)],1),n("div",{staticClass:"conference-container__videos"},[n("div",{staticClass:"video"},[n("Video",{attrs:{videoId:"localVideo",displayControls:!0,videoStream:t.localStream,pauseVideo:t.pauseVideo,pauseAudio:t.pauseAudio,muted:!0}})],1),n("div",{staticClass:"conference-container__videos--remote"},t._l(t.peers,function(e,s){return n("div",{key:s,staticClass:"video"},[n("Video",{attrs:{videoId:s,displayControls:!1,videoStream:t.peers[s].peerStream,muted:!1}})],1)}),0)])])},At=[],Ot=n("db0c"),$t=n.n(Ot),jt={name:"Conference",props:{conference:Object,users:Array},mixins:[rt],components:{Video:vt},data:function(){return{peers:{},peersLength:0}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.myVideo=document.getElementById("localVideo"),!this.conference.admin){t.next=5;break}return t.next=4,this.getUserMedia();case 4:this.$socket.emit(R["d"].joinConference,C({},this.$store.state,{to:this.username}));case 5:this.conference.offer&&(e=this.conference.offer,n=e.from,s=e.desc,this.init(n,s));case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){$t()(this.peers).forEach(function(t){return t.pc.close()}),this.peers={},this.$socket.emit(R["d"].leaveConference,C({},this.$store.state,{from:this.username,conferenceRoom:this.conference.room}))},methods:{init:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getUserMedia();case 2:this.initWebRTC(e,n);case 3:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),invitate:function(t){this.$socket.emit(R["d"].conferenceInvitation,{room:this.$store.state.room,to:t,from:this.username})},initWebRTC:function(t,e){this.$set(this.peers,t,{username:t,pc:new RTCPeerConnection(this.configuration),peerStream:void 0,peerVideo:void 0}),this.addLocalStream(this.peers[t].pc),this.onIceCandidates(this.peers[t].pc,t,this.conference.room,!0),this.onAddStream(this.peers[t],t),e?this.handleAnswer(e,this.peers[t].pc,t,this.conference.room,!0):this.createOffer(this.peers[t].pc,t,this.conference.room,!0)}},watch:{conference:function(t,e){var n=t.user,s=t.answer,r=t.candidate,o=t.userLeft,u=t.offer;if(o&&o!==e.userLeft&&(this.peersLength--,this.peers[o].pc.close(),delete this.peers[o]),n&&n!==e.user&&(this.initWebRTC(n),this.peersLength++),s&&e.answer!==s&&this.setRemoteDescription(s.desc,this.peers[s.from].pc),r&&e.candidate!==r&&this.addCandidate(this.peers[r.from].pc,r.candidate),u&&u!==e.offer&&void 0!==e.offer){var i=u.from,a=u.desc;this.init(i,a)}}}},Pt=jt,Et=(n("4631"),Object(I["a"])(Pt,kt,At,!1,null,"4d0f5ca3",null));Et.options.__file="Conference.vue";var Mt=Et.exports,Vt={name:"chat",components:{UserList:N,ChatArea:J,MessageArea:Q,ChatDialog:St,Conference:Mt},sockets:{newUser:function(t){var e=t.users,n=t.username,s=this.$store.state.username===n;e.length>this.users.length?this.messages.push({join:!0,msg:"".concat(s?"You":n," joined the room")}):e.length<this.users.length&&this.messages.push({join:!0,msg:"".concat(n," left the room")}),this.users=E(e)},newMessage:function(t){var e=t.message,n=t.username,s=this.$store.state.username===n,r=s?" ".concat(e):{username:n,message:e};this.messages.push({msg:r,isMe:s})},privateChat:function(t){var e=t.to,n=t.from;this.$store.state.username!==e||this.openPrivateChat.chat||(this.openPrivateChat=C({},this.openPrivateChat,{chat:!0,user:n,room:e}))},privateMessage:function(t){var e=t.privateMessage,n=t.to,s=t.from,r="object"===f(e),o=this.$store.state.username===s;r&&o||this.openPrivateChat.msg.push({msg:r?e.msg:e,isMe:this.$store.state.username!==n})},leavePrivateRoom:function(t){var e=t.privateMessage;this.openPrivateChat.closed||(this.openPrivateChat.msg.push({msg:e}),this.openPrivateChat=C({},this.openPrivateChat,{closed:!0}))},leaveChat:function(t){var e=t.users,n=t.message;this.messages.push({join:!0,msg:n}),this.users=E(e)},PCSignalingConference:function(t){var e=t.desc,n=t.from,s=t.to,r=t.candidate;n===this.$store.state.username||s&&s!==this.$store.state.username||(e?e.type===R["a"].offer?this.conference=C({},this.conference,{offer:{from:n,desc:e},open:!0}):e.type===R["a"].answer&&(this.conference=C({},this.conference,{answer:{from:n,desc:e}})):r&&(this.conference=C({},this.conference,{candidate:{from:n,candidate:r}})))},conferenceInvitation:function(t){var e=t.to,n=t.from,s=t.message;if(s&&this.$store.state.username===n)return this.$toastr.w(s);this.$store.state.username===e&&(this.conference.room=n,this.$socket.emit(R["d"].joinConference,C({},this.$store.state,{to:n,from:this.$store.state.username})))},joinConference:function(t){var e=t.from;this.$store.state.username!==e&&(this.conference=C({},this.conference,{user:e,userLeft:null}))},leaveConference:function(t){var e=t.from;e===this.conference.room?this.conference={}:this.conference=C({},this.conference,{userLeft:e,user:null})}},beforeCreate:function(){this.$socket.emit(R["d"].joinRoom,this.$store.state)},data:function(){return{room:this.$store.state.room,users:[],messages:[],openPrivateChat:{chat:!1,user:null,msg:[],room:null,closed:!1},conference:{admin:!1,user:"",room:"",offer:null,answer:null,candidate:null,open:!1,userLeft:""}}},methods:{onChangeRoom:function(t){this.room!==t&&(this.$socket.emit(R["d"].leaveRoom,this.$store.state),this.$store.dispatch(R["c"].changeRoom,t),this.messages.length=0,this.$socket.emit(R["d"].joinRoom,this.$store.state))},sendMessage:function(t){this.$socket.emit(R["d"].publicMessage,C({},this.$store.state,{message:t}))},openChat:function(t){this.openPrivateChat=C({},this.openPrivateChat,{chat:!0,user:t,room:t})},closePrivateChat:function(){this.openPrivateChat=C({},this.openPrivateChat,{chat:!1,closed:!1,user:null,msg:[],room:null})},logout:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.$socket.emit(R["d"].leaveChat,{room:this.room,username:this.$store.state.username}),t.next=4,this.$store.dispatch(R["c"].leaveChat,this.$store.state.username);case 4:this.$socket.close(),this.$router.push("/"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),toggleConference:function(){this.conference.open?this.conference={}:this.conference=C({},this.conference,{open:!0,admin:!0,room:this.$store.state.username})}}},Rt=Vt,Dt=(n("9c66"),Object(I["a"])(Rt,s,r,!1,null,null,null));Dt.options.__file="Chat.vue";e["default"]=Dt.exports},"32a6":function(t,e,n){var s=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(t){return r(s(t))}})},"355d":function(t,e){e.f={}.propertyIsEnumerable},"454f":function(t,e,n){n("46a7");var s=n("584a").Object;t.exports=function(t,e,n){return s.defineProperty(t,e,n)}},4631:function(t,e,n){"use strict";var s=n("56c8"),r=n.n(s);r.a},"46a7":function(t,e,n){var s=n("63b6");s(s.S+s.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"47ee":function(t,e,n){var s=n("c3a1"),r=n("9aa9"),o=n("355d");t.exports=function(t){var e=s(t),n=r.f;if(n){var u,i=n(t),a=o.f,c=0;while(i.length>c)a.call(t,u=i[c++])&&e.push(u)}return e}},"520a":function(t,e,n){"use strict";var s=n("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,u=r,i="lastIndex",a=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[i]||0!==e[i]}(),c=void 0!==/()??/.exec("")[1],l=a||c;l&&(u=function(t){var e,n,u,l,f=this;return c&&(n=new RegExp("^"+f.source+"$(?!\\s)",s.call(f))),a&&(e=f[i]),u=r.call(f,t),a&&u&&(f[i]=f.global?u.index+u[0].length:e),c&&u&&u.length>1&&o.call(u[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(u[l]=void 0)}),u}),t.exports=u},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"549b":function(t,e,n){"use strict";var s=n("d864"),r=n("63b6"),o=n("241e"),u=n("b0dc"),i=n("3702"),a=n("b447"),c=n("20fd"),l=n("7cd6");r(r.S+r.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,f,d=o(t),m="function"==typeof this?this:Array,p=arguments.length,h=p>1?arguments[1]:void 0,v=void 0!==h,g=0,b=l(d);if(v&&(h=s(h,p>2?arguments[2]:void 0,2)),void 0==b||m==Array&&i(b))for(e=a(d.length),n=new m(e);e>g;g++)c(n,g,v?h(d[g],g):d[g]);else for(f=b.call(d),n=new m;!(r=f.next()).done;g++)c(n,g,v?u(f,h,[r.value,g],!0):r.value);return n.length=g,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"56c8":function(t,e,n){},"5d58":function(t,e,n){t.exports=n("d8d6")},"5dbc":function(t,e,n){var s=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var o,u=e.constructor;return u!==n&&"function"==typeof u&&(o=u.prototype)!==n.prototype&&s(o)&&r&&r(t,o),t}},"5f1b":function(t,e,n){"use strict";var s=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==s(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},6718:function(t,e,n){var s=n("e53d"),r=n("584a"),o=n("b8e3"),u=n("ccb9"),i=n("d9f6").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:s.Symbol||{});"_"==t.charAt(0)||t in e||i(e,t,{value:u.f(t)})}},"67bb":function(t,e,n){t.exports=n("f921")},"69d3":function(t,e,n){n("6718")("asyncIterator")},"6abf":function(t,e,n){var s=n("e6f3"),r=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,r)}},"765d":function(t,e,n){n("6718")("observable")},"774e":function(t,e,n){t.exports=n("d2d5")},"79b8":function(t,e,n){},"7d6d":function(t,e,n){var s=n("63b6"),r=n("13c8")(!1);s(s.S,"Object",{values:function(t){return r(t)}})},"85d1":function(t,e,n){"use strict";var s=n("d432"),r=n.n(s);r.a},"85f2":function(t,e,n){t.exports=n("454f")},"88ec":function(t,e,n){},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},"8b97":function(t,e,n){var s=n("d3f4"),r=n("cb7c"),o=function(t,e){if(r(t),!s(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,s){try{s=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),s(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:s(t,n),t}}({},!1):void 0),check:o}},9003:function(t,e,n){var s=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==s(t)}},9093:function(t,e,n){var s=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return s(t,r)}},"95d5":function(t,e,n){var s=n("40c3"),r=n("5168")("iterator"),o=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(s(e))}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9c66":function(t,e,n){"use strict";var s=n("af61"),r=n.n(s);r.a},"9e1c":function(t,e,n){n("7d6d"),t.exports=n("584a").Object.values},a481:function(t,e,n){"use strict";var s=n("cb7c"),r=n("4bf8"),o=n("9def"),u=n("4588"),i=n("0390"),a=n("5f1b"),c=Math.max,l=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,function(t,e,n,h){return[function(s,r){var o=t(this),u=void 0==s?void 0:s[e];return void 0!==u?u.call(s,o,r):n.call(String(o),s,r)},function(t,e){var r=h(n,t,this,e);if(r.done)return r.value;var f=s(t),d=String(this),m="function"===typeof e;m||(e=String(e));var g=f.global;if(g){var b=f.unicode;f.lastIndex=0}var y=[];while(1){var w=a(f,d);if(null===w)break;if(y.push(w),!g)break;var C=String(w[0]);""===C&&(f.lastIndex=i(d,o(f.lastIndex),b))}for(var _="",x=0,S=0;S<y.length;S++){w=y[S];for(var k=String(w[0]),A=c(l(u(w.index),d.length),0),O=[],$=1;$<w.length;$++)O.push(p(w[$]));var j=w.groups;if(m){var P=[k].concat(O,A,d);void 0!==j&&P.push(j);var E=String(e.apply(void 0,P))}else E=v(k,d,A,O,j,e);A>=x&&(_+=d.slice(x,A)+E,x=A+k.length)}return _+d.slice(x)}];function v(t,e,s,o,u,i){var a=s+t.length,c=o.length,l=m;return void 0!==u&&(u=r(u),l=d),n.call(i,l,function(n,r){var i;switch(r.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(a);case"<":i=u[r.slice(1,-1)];break;default:var l=+r;if(0===l)return n;if(l>c){var d=f(l/10);return 0===d?n:d<=c?void 0===o[d-1]?r.charAt(1):o[d-1]+r.charAt(1):n}i=o[l-1]}return void 0===i?"":i})}})},a4bb:function(t,e,n){t.exports=n("8aae")},a745:function(t,e,n){t.exports=n("f410")},a775:function(t,e,n){},aa77:function(t,e,n){var s=n("5ca1"),r=n("be13"),o=n("79e5"),u=n("fdef"),i="["+u+"]",a="​",c=RegExp("^"+i+i+"*"),l=RegExp(i+i+"*$"),f=function(t,e,n){var r={},i=o(function(){return!!u[t]()||a[t]()!=a}),c=r[t]=i?e(d):u[t];n&&(r[n]=c),s(s.P+s.F*i,"String",r)},d=f.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=f},ac6a:function(t,e,n){for(var s=n("cadf"),r=n("0d58"),o=n("2aba"),u=n("7726"),i=n("32e9"),a=n("84f2"),c=n("2b4c"),l=c("iterator"),f=c("toStringTag"),d=a.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(m),h=0;h<p.length;h++){var v,g=p[h],b=m[g],y=u[g],w=y&&y.prototype;if(w&&(w[l]||i(w,l,d),w[f]||i(w,f,g),a[g]=d,b))for(v in s)w[v]||o(w,v,s[v],!0)}},af61:function(t,e,n){},b0c5:function(t,e,n){"use strict";var s=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:s!==/./.exec},{exec:s})},baa4:function(t,e,n){"use strict";var s=n("1b10"),r=n.n(s);r.a},bbb6:function(t,e,n){"use strict";var s=n("f8fa"),r=n.n(s);r.a},bf0b:function(t,e,n){var s=n("355d"),r=n("aebd"),o=n("36c3"),u=n("1bc3"),i=n("07e3"),a=n("794b"),c=Object.getOwnPropertyDescriptor;e.f=n("8e60")?c:function(t,e){if(t=o(t),e=u(e,!0),a)try{return c(t,e)}catch(n){}if(i(t,e))return r(!s.f.call(t,e),t[e])}},bf90:function(t,e,n){var s=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(s(t),e)}})},c5f6:function(t,e,n){"use strict";var s=n("7726"),r=n("69a8"),o=n("2d95"),u=n("5dbc"),i=n("6a99"),a=n("79e5"),c=n("9093").f,l=n("11e9").f,f=n("86cc").f,d=n("aa77").trim,m="Number",p=s[m],h=p,v=p.prototype,g=o(n("2aeb")(v))==m,b="trim"in String.prototype,y=function(t){var e=i(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():d(e,3);var n,s,r,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+e}for(var u,a=e.slice(2),c=0,l=a.length;c<l;c++)if(u=a.charCodeAt(c),u<48||u>r)return NaN;return parseInt(a,s)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?a(function(){v.valueOf.call(n)}):o(n)!=m)?u(new h(y(e)),n,p):y(e)};for(var w,C=n("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;C.length>_;_++)r(h,w=C[_])&&!r(p,w)&&f(p,w,l(h,w));p.prototype=v,v.constructor=p,n("2aba")(s,m,p)}},c8bb:function(t,e,n){t.exports=n("54a1")},cbba:function(t,e,n){"use strict";var s=n("79b8"),r=n.n(s);r.a},ccb9:function(t,e,n){e.f=n("5168")},ce7e:function(t,e,n){var s=n("63b6"),r=n("584a"),o=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],u={};u[t]=e(n),s(s.S+s.F*o(function(){n(1)}),"Object",u)}},d1a4:function(t,e,n){"use strict";var s=n("88ec"),r=n.n(s);r.a},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},d432:function(t,e,n){},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},db0c:function(t,e,n){t.exports=n("9e1c")},e265:function(t,e,n){t.exports=n("ed33")},ebfd:function(t,e,n){var s=n("62a0")("meta"),r=n("f772"),o=n("07e3"),u=n("d9f6").f,i=0,a=Object.isExtensible||function(){return!0},c=!n("294c")(function(){return a(Object.preventExtensions({}))}),l=function(t){u(t,s,{value:{i:"O"+ ++i,w:{}}})},f=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,s)){if(!a(t))return"F";if(!e)return"E";l(t)}return t[s].i},d=function(t,e){if(!o(t,s)){if(!a(t))return!0;if(!e)return!1;l(t)}return t[s].w},m=function(t){return c&&p.NEED&&a(t)&&!o(t,s)&&l(t),t},p=t.exports={KEY:s,NEED:!1,fastKey:f,getWeak:d,onFreeze:m}},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f63b:function(t,e,n){},f8fa:function(t,e,n){},f921:function(t,e,n){n("014b"),n("c207"),n("69d3"),n("765d"),t.exports=n("584a").Symbol},fde4:function(t,e,n){n("bf90");var s=n("584a").Object;t.exports=function(t,e){return s.getOwnPropertyDescriptor(t,e)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);